<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>MDIA 2294</title>
	
	<style>	    
	    img {
	        margin:5px;
	    }
	    
	    img.clickable{
	        cursor:pointer;
			opacity: 0.5;
	    }

		.clickable.selected-thumbnail {
			opacity: 1;
		}

	
	</style>
	
</head>
<body>

	<h1>MDIA 2294: Assignment 2</h1>
	
	<div style="text-align:center;">
	    <table>
	        <tr>
	            <td></td>
	            <td style="text-align:center;">
                    <div><img id="main-image" alt="Main Image" /></div>

                    <!-- you may or may not use this hidden textbox-->
                    <div><input id="current-index" /></div>    
                </td>
	            <td></td>
	        
	        </tr> 
	        <tr>
	            <td>
	                <img src="images/first.png" id="first-btn" onclick="set_nav_first()"/>            
	                <img src="images/prev.png" id="prev-btn" onclick="set_nav_prev()"/>
	            </td>
	            <td>
	                <div id="thumbnail-area"></div>	        
	            </td>
	            <td>
	                <img src="images/next.png" id="next-btn" onclick="set_nav_next()"/>            
	                <img src="images/last.png" id="prev-btn" onclick="set_nav_last()"/>
	            </td>
	        </tr>	    
	    </table>       
	</div>  
    
	<script>

		let current_index = 0;

		const image_root_names = ["Cat", "Fish", "Cow", "Dog", "Fox"];
		

		const first_load = () => { 

			set_main_image(0);
			set_thumbnails();

		}
	
		const set_main_image = (index) => {

			document.querySelector("#main-image").src = "images/" + image_root_names[index] + "Full.png";

			current_index = index;

			update_thumbnails(index);
		}
	
		const set_thumbnails = () => {

			image_root_names.forEach((animal, array_index) => {
				
				const new_thumb = document.createElement("img");

				new_thumb.src = "images/" + animal + "Thumb.png";

				new_thumb.className = "clickable" + (current_index === array_index ? " selected-thumbnail" : "");

				new_thumb.addEventListener("click", () => {
					set_main_image(array_index);
				})

				document.querySelector("#thumbnail-area").append(new_thumb);

			})
	
		} 
	
		const update_thumbnails = (current_index) => {

			const thumbnails = document.querySelectorAll(".clickable");

			thumbnails.forEach((thumb, index) => {
				return (current_index === index) ? thumb.classList.add("selected-thumbnail") : thumb.classList.remove("selected-thumbnail")
			})

			// TODO: you'll need to loop through all thumbnails
			//		- turn on an indicator (eg opacity:1.0) if it's the selected thumb
			//		- turn off the indicator (eg opacity:0.75) if it's not
		} 
	
		const set_nav_last = () => {
			set_main_image(image_root_names.length - 1)
		}

		const set_nav_first = () => {
			set_main_image(0)
		}
	
		const set_nav_next = () => {

			const next_index = (current_index >= image_root_names.length - 1) ?  0 : current_index + 1;

			set_main_image(next_index);
			
		}
	
		const set_nav_prev = () => {

			const prev_index = (current_index == 0) ? current_index = image_root_names.length - 1 : current_index - 1;

			set_main_image(prev_index);

		}	
	
		window.addEventListener("load", first_load);

	</script>
	
</body>
</html>